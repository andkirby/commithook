<?xml version="1.0"?>
<config>
    <!--Tasks tracker name. Default: JIRA-->
    <tracker_name>jira</tracker_name>

    <!--Validators setup-->
    <validators>
        <PhpClass>
            <interpret>c:/xampp/php/php.exe</interpret>
        </PhpClass>
        <CommitMessage>
            <match>
                <merge>/^Merge /</merge>
                <revert>/^Revert /</revert>
                <full>/^(Implemented|Fixed|CR Changes?|Refactored) [A-Z0-9]{2,}-[0-9]+: /</full>
            </match>
        </CommitMessage>
        <FileFilter>
            <filter>
                <skip>
                    <extensions>
                        <!--Images-->
                        <jpg>jpg</jpg>
                        <png>png</png>
                        <gif>gif</gif>
                        <bmp>bmp</bmp>
                        <bmp>ico</bmp>
                        <svg>svg</svg>
                        <!--Archives-->
                        <zip>zip</zip>
                        <rar>rar</rar>
                        <gz>gz</gz>
                        <tar>tar</tar>
                        <!--Fonts-->
                        <ttf>ttf</ttf>
                        <fon>fon</fon>
                        <eot>eot</eot>
                        <woff>woff</woff>
                    </extensions>
                    <!--<paths>-->
                        <!--<path>libs/</path>-->
                    <!--</paths>-->
                    <!--<files>-->
                        <!--<file>index.php</file>-->
                    <!--</files>-->
                </skip>
                <protect>
                    <files>
                        <file>index.php</file>
                    </files>
                    <!--<paths>-->
                        <!--<path>libs/</path>-->
                    <!--</paths>-->
                </protect>
            </filter>
        </FileFilter>
    </validators>

    <filters>
        <ShortCommitMsg>
            <issue>
                <tracker>
                    <!--JIRA specific types-->
                    <jira>
                        <!--JIRA issue-type map to general issue-type-->
                        <type>
                            <!-- Tasks -->
                            <Task>task</Task>
                            <Sub_Task_Task>task</Sub_Task_Task>
                            <Change_Request>task</Change_Request>
                            <!-- Bugs -->
                            <Bug>bug</Bug>
                        </type>
                    </jira>
                </tracker>

                <!--Short verb version for quick message-->
                <short_verb>
                    <!--For tasks at all-->
                    <I>Implemented</I>
                    <!--Functionality wasn't changed - refactoring only-->
                    <R>Refactored</R>
                    <!--Something was fixed. For bugs only-->
                    <F>Fixed</F>
                    <!--Applying Code Review Changes-->
                    <C>CR Changes</C>
                </short_verb>

                <!--If the verb was omitted-->
                <default_type_verb>
                    <task>I</task>
                    <bug>F</bug>
                </default_type_verb>
            </issue>
        </ShortCommitMsg>
    </filters>

    <!--Hooks process setup-->
    <hooks>
        <pre-commit>
            <filetype>
                <!--Run validators before any filter because filters run always before validators-->
                <before_all_original />
                <!--Run validators, filters before specific validators-->
                <before_all>
                    <filters>
                        <SkipContent>1</SkipContent>
                    </filters>
                    <validators>
                        <UnresolvedConflict>1</UnresolvedConflict>
                    </validators>
                </before_all>
                <php>
                    <validators>
                        <PhpClass>1</PhpClass>
                        <PhpDoc>1</PhpDoc>
                        <CodingStandard>1</CodingStandard>
                        <RedundantCode>1</RedundantCode>
                    </validators>
                </php>
                <phtml>
                    <validators>
                        <RedundantCode>1</RedundantCode>
                        <CodingStandardPhtml>1</CodingStandardPhtml>
                    </validators>
                </phtml>
                <js>
                    <validators>
                        <RedundantCode>1</RedundantCode>
                    </validators>
                </js>
                <xml>
                    <validators>
                        <XmlParser>1</XmlParser>
                    </validators>
                </xml>
                <after_all>
                    <validators>
                        <TrailingSpace>1</TrailingSpace>
                        <FileStyle>1</FileStyle>
                    </validators>
                </after_all>
            </filetype>
        </pre-commit>
    </hooks>
</config>
